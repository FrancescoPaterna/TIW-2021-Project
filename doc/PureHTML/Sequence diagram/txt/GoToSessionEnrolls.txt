title GoToSessionEnrolls

participant Browser
participant GoToSessionEnrolls
participant GoToHomePageStud
participant UserDAO
participant ExamDateDAO
participant EnrollsDAO
participant Session
participant TemplateEngine


note left of Browser:coursename\ncourse_id\nexam_date_id\ndate \nmask,sort 


Browser->GoToSessionEnrolls:GET

GoToSessionEnrolls->UserDAO: CheckExamDateByProf(user.getId())

alt ExamDate Not Owned By User.id 
GoToSessionEnrolls->TemplateEngine: ("Forbidden.html", "UNAUTHORIZED ACCESS")
GoToSessionEnrolls->Session: invalidate
end 


==SORTING SYSTEM SUMMARY \n==
alt Sort By IDStud (sort = n)
alt mask[n-1] = '0'OR mask[n-1] = '2'
note over GoToSessionEnrolls:maskget: Create a Deafualt Mask [2222222] and Set '1' To Position (Column -1)
GoToSessionEnrolls->EnrollsDAO:FindEnrollsOrderedByXXXXAsc(exam_date_id)
end
alt mask[n-1] = '1'
note over GoToSessionEnrolls:maskget: Create a Deafualt Mask [2222222] and Set '0' To Position (Column -1)
GoToSessionEnrolls->EnrollsDAO:FindEnrollsOrderedByXXXXDesc(exam_date_id)
end
end



==END SORTING SYSTEM\n\n   See all function in the\n      complete version==
GoToSessionEnrolls->EnrollsDAO: assertion_published(exam_date_id)
GoToSessionEnrolls->EnrollsDAO: assertion_record(exam_date_id)
GoToSessionEnrolls->TemplateEngine: ExamEnrolls.html, recovered_mask, publish, record, course_id, exam_date_id, enrolls, coursename, date, mask, sort

